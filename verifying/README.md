
Для проверки на линеаризуемость структуры нужно подключить хедер verifying.h и предоставить некоторые типы.

Пример в [atomic_register](./targets/atomic_register.cpp).

Определяется объект Spec, которому передаются:

* Тестируемый тип. Должен имплементировать конструктор копирования и оператор присваивания, рантайм будет пользоваться ими,
  чтобы перестроить объект после раундов.

* Объект последовательной спецификации, хеш трейт для него, а также трейт проверки на совпадение. При желании можно добавить ещё трейт который
проверяет по истории, функции и аргументов их валидность(поддерживается только в TLA)

* Точка входа генерируется макросом `LTEST_ENTRYPOINT(spec)`.

Тестируемые методы должны быть реализованы с помощью макроса `target_method`.
Все прочие методы и функции, которые не должны считаться атомарными, должны быть помечены с помощью `non_atomic`.

Далее собираем бинарь верификатора:
```sh
cmake --build  build --target  verifying/targets/atomic_register
```

Можно указать `-g`, если хочется погонять в отладчике получившийся бинарь или посмотреть на получившийся llvm IR.

После успешной сборки можем запускать верификатор, например:
```
./verifying/targets/atomic_register --tasks 20 --rounds 239
```
